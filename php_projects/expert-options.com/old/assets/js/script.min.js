var compiler=function(a,e){e=e||{};for(var t in e)a=a.replace("{{"+t+"}}",e[t]);return a},Validators={url:{message:'Field "{{field}}" is not valid url.',isValid:function(a){var e=/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return e.test(a)}},required:{message:'Field "{{field}}" is required.',isValid:function(a){return a&&a.length>0}},list:{message:'Field "{{field}}" contains value not in list [{{list}}].',isValid:function(a,e){var t=!0;return e.list=e.list||[],e.allowEmpty=e.allowEmpty||!1,e.allowEmpty&&0===a.trim().length?t:(a.split(e.separator||" ").forEach(function(a){if(e.list.indexOf(a)===-1)return t=!1,!1}),t)}},number:{message:'Field "{{field}}" is not valid number. Please enter number from range [{{min}} - {{max}}]',params:{},isValid:function(a,e){var t=!1;if(""!==a){var i=Number(a);return t=!isNaN(i),t&&e.min&&e.min>i&&(t=!1),t&&e.max&&e.max<i&&(t=!1),t}return e.allowEmpty&&(t=!0),t}},regexp:{message:'Field "{{field}}" is not match to {{expr}}',isValid:function(a,e){var t=new RegExp(e.regex);return t.test(a)}},email:{message:'Field "{{field}}" is not valid e-mail address.',isValid:function(a,e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(a)}}},_js={};_js.plansSlider=function(){$(".js-slider").owlCarousel({items:4})},_js.FaqPage=function(){var a="side-nav__item--active",e=$("#faq-nav .side-nav__link"),t=e.first(),i=$(".faq-list");if(i.hide(),window.location.hash){var n=e.filter('a[href="'+window.location.hash+'"]');n.length&&(t=n)}e.on("click",function(e){e.preventDefault(),i.hide(),$("."+a).removeClass(a);var t=$(this).attr("href");$(t).show(),$(this).parent().addClass(a),location.hash===t||e.isTrigger||(history.pushState?history.pushState(null,null,t):location.hash=t)}),t.trigger("click")},_js.WithdrawalPage=function(){_js.validate($("#withdrawal-form"),[{fields:['input[name="amount"]'],validator:Validators.required,message:"Amount is required."},{fields:['input[name="amount"]'],validator:Validators.number,message:"Amount is not number."}])},_js.SignupPage=function(){var a=$("#signup-form");$("#agree").on("change",function(){a.find("#terms").val(+$(this).prop("checked"))}),$("#email").on("keyup",function(){$("input[name=email1]").val($(this).val())}).on("change",function(){$("input[name=email1]").val($(this).val())}),$(".btn--registration").on("click",function(){a.trigger("submit")});var e=[{fields:["#fullname","#username","#email","#password","#password2"],validator:Validators.required},{fields:["#email"],validator:Validators.email}];$("#validation_number").length&&e.push({fields:["#validation_number"],validator:Validators.required,message:'Field "CAPTCHA" is required.'}),_js.validate(a,e)},_js.datePickers=function(){function a(a){var e=[];$.each(a,function(a,t){e.push($('input[name="'+t+'"]').val())});var t=new Date(e[2]+"-"+e[0]+"-"+e[1]);return n>=t?"0"+(1+n.getMonth())+"/"+n.getDate()+"/"+n.getFullYear():e.join("/")}function e(a,e){var t=a.match(/^(\d+)\/(\d+)\/(\d+)$/),i=t.slice(1);$.each(e,function(a,e){$('input[name="'+e+'"]').val(parseInt(i[a],10))})}var t=["month_from","day_from","year_from"],i=["month_to","day_to","year_to"],n=new Date($("#project_start").val());$("#dt_from").val(a(t)).flatpickr({minDate:n,dateFormat:"m/d/Y",allowInput:!0,onChange:function(a,i,n){e(i,t)}}),$("#dt_to").val(a(i)).flatpickr({minDate:n,allowInput:!0,dateFormat:"m/d/Y",onChange:function(a,t,n){e(t,i)}})},_js.LoginPage=function(){var a=[{fields:["#username","#password"],validator:Validators.required}];$("#validation_number").length&&a.push({fields:["#validation_number"],validator:Validators.required,message:'Field "CAPTCHA" is required.'}),_js.validate($("#login-form"),a)},_js.DepositPage=function(){var a=$(".plan-variant"),e=$('[name="h_id"]').first(),t=Number(e.val()),i=$(".js-table-plan"),n=$("#account_balance"),r=$("#spend_from_balance"),l=$("#spend_from_extermal");n.on("change",function(){var a;$(this).prop("checked")?(l.prop("disabled",!0).attr("name","").hide(),a=r.prop("disabled",!1).attr("name","type").show()):(r.attr("name","").prop("disabled",!0).hide(),a=l.attr("name","type").prop("disabled",!1).show()),a.val(a.val())}).trigger("change"),a.on("click",function(n){n.preventDefault();var r=$(this);t=r.data("plan-id"),a.filter(".plan-variant--selected").removeClass("plan-variant--selected"),i.hide().filter('[data-plan-id="'+t+'"]').fadeIn(),r.addClass("plan-variant--selected"),e.val(t)}),a.filter('[data-plan-id="'+t+'"]').trigger("click")},_js.navCabinet=function(){function a(a){for(var e=window.location.search.substring(1),t=e.split("&"),i=0;i<t.length;i++){var n=t[i].split("=");if(decodeURIComponent(n[0])==a)return decodeURIComponent(n[1])}}var e=$("#cabinet-nav").find("a"),t=location.href.replace(location.origin,""),i=e.filter('a[href="'+t+'"]'),n=a("a");i.length||(n="/?a="+n,i=e.filter(function(a,e){var t=$(e),i=$(e).data("links");return t.is('a[href="'+n+'"]')||i&&i.length&&i.indexOf(n)!==-1})),i.length&&i.parent().addClass("acc-nav__item--active")},_js.accountMain=function(){$("#ref-copy").on("click",function(a){a.preventDefault();var e=$(this);if(!e.data("in-progress")){var t=e.text();e.text("Successfully copied"),e.addClass("btn--dark"),e.removeClass("btn--major"),setTimeout(function(){e.text(t),e.removeClass("btn--dark"),e.addClass("btn--major")},3e3)}}),new ClipboardJS("#ref-copy")},_js.calc=function(){var a=$("#calc-form");if(a.on("submit",function(){return"post"===a.attr("method")||(m(),!1)}),a.length){var e,t,i=a.find('#cal-plan, select[name="h_id"], input[name="h_id"]'),n=a.find("#cal-deposit"),r=a.find("#cal-profit"),l=a.find("#cal-total"),s=a.data("plans"),o=$("#plan-msg-template").html(),d=$("#plan-msg"),c={},u=function(a,e){a.is(":input")?a.val(Number(e).toFixed(2)):a.text(Number(e).toFixed(2))},m=function(){var a=i.val();i.is("input")&&(a=i.filter(":checked").val());var t=parseFloat(n.val().replace(",","."))||0;if(t>c[a].max)n.addClass("input--error"),setTimeout(function(){n.removeClass("input--error")},1e3),n.val(c[a].max),t=c[a].max;else{if(t<c[a].min)return n.addClass("input--error"),u(r,0),u(l,0),d.css("visibility","hidden"),!1;n.removeClass("input--error"),d.css("visibility","visible")}if(s[a]){var m=0,f=0,p=0,v=0;$.each(s[a],function(a,i){return t<=parseFloat(i.max)&&t>=parseFloat(i.min)?(m=parseFloat(i.percent),d.length&&(e=o.replace("%plan_name%","Plan "+(a+1)),e=e.replace("%plan_percent%",m.toFixed(2)),d.html(e)),!1):void(t>=parseFloat(i.min)&&(v=parseFloat(i.percent)))}),m=m||v,f=Number(t/100*m).toFixed(2),p=0===f?0:f-t,u(l,f),u(r,p)}};$.each(s,function(a,e){c[a]={min:parseFloat(e[0].min),max:parseFloat(e[0].max)},$.each(e,function(e,t){c[a].max=Math.max(t.max,c[a].max),c[a].min=Math.min(t.min,c[a].min)})}),n.on("keyup",function(a){/^[0-9\.,]*$/.test(n.val())?m():n.val(n.val().replace(/[^0-9\.,]+/,""))}),i.on("change",function(e){var r=$(this).val(),l=n.val(),o=$(this);if("radio"===$(this).attr("type")&&(o=i.filter(":checked"),r=o.val()),s[r]){if(o.is("select")||"radio"===$(this).attr("type")){var d=[+n.val(),parseFloat(s[r][0].min)];n.val(Math.max.apply(null,d))}else""!==l&&0!==l&&"0"!==l||n.val(1e3);m()}t=$("[data-tabs]").find('[data-tab-link="'+r+'"]'),t.trigger("click"),a.find(".btn.logged").attr("href",t.data("url"))}),n.val()||n.val(1e3),i.trigger("change")}},_js.loginRedirect=function(){$("head").append('<meta http-equiv="refresh" content="5;/?a=login">')},_js.banners=function(){var a="btn--major",e="btn--foobar",t=$("#banner-selected"),i=$(".banner-bl__buttons .btn"),n=$(".banner-item");i.on("click",function(i){i.preventDefault();var r=$(this);r.siblings("."+a).removeClass(a).addClass(e),t.text(r.text()),n.hide(),n.filter("#banner-"+r.text()).show(),r.removeClass(e).addClass(a)}),i.first().trigger("click")},_js.SupportPage=function(){var a=[{fields:["#username","#email-address","#message"],validator:Validators.required},{fields:["#email-address"],validator:Validators.email}];$("#validation_number").length&&a.push({fields:["#validation_number"],validator:Validators.required,message:'Field "CAPTCHA" is required.'}),_js.validate($("#support-form"),a)},_js.validate=function(a,e){function t(){a.find(".input--error").removeClass("input--error"),a.find(".error").remove();var t=!0;return $.each(e,function(e,i){$.each(i.fields,function(e,n){var r,l,s=a.find(n),o=i.params||{};return!s.next(".error").length&&void(i.validator.isValid.call(null,s.val(),o)||(r=i.message||i.validator.message,l=s.prev("label").text().replace(/[\*:]/g,"").trim()||s.data("label")||s.attr("name"),o=jQuery.extend({field:l},o),t=!1,s.addClass("input--error"),s.parent().hasClass("captcha")?s.parent().after('<p class="error">'+compiler(r,o)+"</p>"):s.after('<p class="error">'+compiler(r,o)+"</p>")))})}),t}return!!a.length&&(a.get(0).noValidate=!0,void a.on("submit",function(a){t()||a.preventDefault()}))},$(".lang__current").on("click",function(a){a.stopPropagation(),$(".lang__list").slideToggle(300,"swing")}),$("body").on("click",function(){$(".lang__list").slideUp(300,"swing")}),_js.HomePage=function(){var a=$("#cal-plan"),e=$("#cal-deposit");a.add(e).on("change",function(){$("#invest_link").attr("href","/?a=deposit&plan="+encodeURIComponent(a.val())+"&sum="+encodeURIComponent(e.val()))}),this.plansSlider()};